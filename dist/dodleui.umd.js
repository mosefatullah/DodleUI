(function(d,l){typeof exports=="object"&&typeof module<"u"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(d=typeof globalThis<"u"?globalThis:d||self,l(d.DodleUI={}))})(this,function(d){"use strict";var D=Object.defineProperty;var S=(d,l,f)=>l in d?D(d,l,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[l]=f;var v=(d,l,f)=>(S(d,typeof l!="symbol"?l+"":l,f),f);const l=o=>{let e={};if(typeof o=="string"){const t=document.querySelectorAll(o);if(t)t.length==1?e.elem=t[0]:e.elems=t;else throw new Error("(DodleUI) Element not found!")}else if(o&&Array.isArray(o))if(o.length==1)e.elem=y[0];else{let t=[];o.map(i=>{g(l(i),n=>{t.push(n)})}),e.elems=t}else if(o&&typeof o=="object")o instanceof HTMLElement?e.elem=o:o instanceof NodeList?e.elems=o:o instanceof Document&&(e.elems=o.querySelectorAll("*"));else if(o==null)throw new Error("(DodleUI) Selector is empty! Provide a selector.");return e},f=(o,e)=>{let t=e;return t&&typeof t=="object"?t={...b[o],...e}:t=b[o],console.log(t),t},g=(o,e)=>{o.elem?e(o.elem):o.elems&&o.elems.forEach(t=>{e(t)})},b={dragging:{transfer:!0,highlight:!1}},x=(o,e)=>{let t={};return t=l(o),(i,n)=>{g(t,a=>{if(a["data-dui-observe"]=!0,!("IntersectionObserver"in window))throw new Error("(DodleUI) Observer: intersectionObserver is not supported by your browser!");new IntersectionObserver(s=>{s.forEach(r=>{r.isIntersecting?typeof i=="function"&&i(r):r.isIntersecting||typeof n=="function"&&n(r)})}).observe(a)})}},E=o=>{let e,t={Control:"Ctrl",Escape:"Esc",ArrowDown:"down",ArrowLeft:"left",ArrowUp:"up",ArrowRight:"right",CapsLock:"Capslock",NumLock:"Numlock",PageUp:"Pageup",PageDown:"Pagedown"," ":"Space"};document.onkeyup=function(i){let n=i.key,a=i.ctrlKey,c=i.altKey,s=i.shiftKey;if(e=t[n]||n,e.length==1&&(e=e.toUpperCase()),a&&(e="Ctrl+"+e),c&&(e="Alt+"+e),s&&(e="Shift+"+e),typeof o=="function")o(e,i);else throw new Error("(DodleUI) Keypress: onKeypress (arg1) is not a function!")}},k=(o,e)=>{let t={};return t=l(o),()=>{g(t,i=>{i.tagName==="IMG"&&i["data-dui-zoom"]!==!0&&(i["data-dui-zoom"]=!0,i.style.cursor="zoom-in",document.onkeyup=function(n){n.key=="i"&&n.focus(!0)},i.addEventListener("click",()=>{const n=document.createElement("img"),a=document.body.style.overflow;n.src=i.src,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.objectFit="contain",n.style.zIndex="9999999999999999999999999",n.style.cursor="zoom-out",n.style.backgroundColor="rgba(0,0,0,0.5)",n.addEventListener("click",function(){this.remove(),document.body.style.overflow=a}),document.body.appendChild(n),document.body.style.overflow="hidden"}))})}},L=o=>{const e=t=>{switch(t){case 1:return"Permission denied!";case 2:return"Position unavailable!";case 3:return"Timeout reached!";default:return"An unknown error!"}};if(typeof o=="function")if("geolocation"in navigator)navigator.geolocation.getCurrentPosition(function(t){o({lat:t.coords.latitude,long:t.coords.longitude},t)},function(t){o({error:e(t.code)},t)});else throw new Error("(DodleUI) Location: geolocation is not supported by your browser!");else throw new Error("(DodleUI) Location: onLocation (arg1) is not a function!")},m=(o,e)=>{for(const t in e)o.style[t]=e[t]},C=o=>{const{buttonStyle:e}=o;let t=document.body;t["data-dui-accessible"]=!0;const i=document.createElement("div"),n=document.createElement("div"),a=document.createElement("button");m(a,{width:"40px",height:"40px",background:"white",borderRadius:"100rem",boxShadow:"0 0 10px rgba(0,0,0,0.4)",border:"1px solid rgba(0,0,0,0.4)",position:"fixed",right:"20px",bottom:"20px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"99999999999999999",...e||{}}),a.onclick=()=>{a.style.transform="scale(0.9)",i.style.display="block",n.style.display="block",setTimeout(()=>{a.style.transform="scale(1)"},100)},a.innerHTML='<svg width="23px" height="23px" id="b6b9284d-bf64-4736-9ee4-87ec5db2ecfa" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 21.43"><circle cx="7.96" cy="2.5" r="2.5" style="fill:#191919"/><rect y="5.43" width="16" height="3" rx="0.48" style="fill:#191919"/><rect x="4" y="8.43" width="8" height="8" style="fill:#191919"/><path d="M4,16.43H6a0,0,0,0,1,0,0v5a0,0,0,0,1,0,0H4.43A.43.43,0,0,1,4,21V16.43A0,0,0,0,1,4,16.43Z" style="fill:#191919"/><path d="M10,16.43h2a0,0,0,0,1,0,0V21a.41.41,0,0,1-.41.41H10a0,0,0,0,1,0,0v-5A0,0,0,0,1,10,16.43Z" style="fill:#191919"/></svg>',m(i,{display:"none",width:"100%",height:"100vh",background:"rgba(0,0,0,0.2)",position:"fixed",top:0,left:0,zIndex:"99999999999999999"}),m(n,{display:"none",width:"100%",maxWidth:"700px",height:"75vh",background:"white",boxShadow:"0 0 10px rgba(0,0,0,0.1)",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px"});const c=document.createElement("button");m(c,{padding:"5px 10px",border:"1px solid rgba(0,0,0,0.4)",position:"fixed",right:"20px",top:"20px"}),c.innerHTML="Close",c.onclick=()=>{i.style.display="none",n.styledisplay="none"};const s=document.createElement("h2");s.innerHTML="Accessibility",s.style.fontWeight="bold",t.appendChild(a),i.appendChild(n),n.appendChild(c),n.appendChild(s),t.appendChild(i)},I=(o,e)=>{let t={};return t=l(o),i=>{const{elems:n}=l(i),a=f("dragging",e);g(t,c=>{c.draggable="true",c.ondragstart=function(s){s.dataTransfer.setData("text",s.target.id)},a.highlight&&(["dragenter","dragover"].forEach(s=>{for(let r=0;r<n.length;r++)n[r].addEventListener(s,p=>{p.target.classList.add("highlight")},!1)}),["dragleave","drop"].forEach(s=>{for(let r=0;r<n.length;r++)n[r].addEventListener(s,p=>{p.target.classList.remove("highlight")},!1)}));for(let s=0;s<n.length;s++)n[s].ondrop=function(r){if(r.preventDefault(),a.transfer){const p=r.dataTransfer.getData("text"),w=document.getElementById(p);w.contains(r.target)||r.target.appendChild(w)}},n[s].ondragover=function(r){r.preventDefault()}})}},u=class u{constructor(e,t){this.selector=e,this.options=t;const{elem:i,elems:n}=l(e);return this.elem=i,this.elems=n,this.init(),this instanceof u?this:new u(e)}init(){this.options&&this.options.class&&(this.elem?this.elem.classList.add(...this.options.class.split(" ")):this.elems&&this.elems.forEach(e=>{e.classList.add(...this.options.class.split(" "))}))}zoom(){k(this.selector,this.options)()}observer(e,t){x(this.selector,this.options)(e,t)}dragging(e){I(this.selector,this.options)(e)}};v(u,"defaults",b);let h=u;h.keypress=E,h.location=L,h.accessible=C;const A=(o,e)=>new h(o,e);d.DodleUI=h,d.default=A,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
